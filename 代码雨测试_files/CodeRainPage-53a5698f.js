import{Q as lt,d as Be,h as C,a as S,t as it,w as ae,b as dt,i as b,T as ct,n as N,z as we,A as F,M as E,D as xe,E as ye,F as ut,L as ht,J as $,B as g,H as ft,s as ke,R as Ce,N as vt,c as Re,G as mt,S as ze}from"./index-1aab2333.js";import{u as pt,P as Se}from"./ide-41c67edd.js";import{P as bt,J as j,I as l,K as x,O as Z,Y as Te,ag as gt,ah as wt,Q as xt,R as De,af as yt,a7 as kt,V as _e,H as Ct,a1 as ce,aa as Rt,a9 as zt,_ as St,a2 as Tt,ab as ee,o as te,a as oe}from"./fade-in-scale-up.cssr-b7551266.js";const _t={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"};function Mt(r){const d="rgba(0, 0, 0, .85)",y="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:v,primaryColor:o,baseColor:a,cardColor:T,modalColor:R,popoverColor:P,borderRadius:U,fontSize:H,opacityDisabled:_}=r;return Object.assign(Object.assign({},_t),{fontSize:H,markFontSize:H,railColor:v,railColorHover:v,fillColor:o,fillColorHover:o,opacityDisabled:_,handleColor:"#FFF",dotColor:T,dotColorModal:R,dotColorPopover:P,handleBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowHover:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowActive:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",handleBoxShadowFocus:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",indicatorColor:d,indicatorBoxShadow:y,indicatorTextColor:a,indicatorBorderRadius:U,dotBorder:"2px solid ".concat(v),dotBorderActive:"2px solid ".concat(o),dotBoxShadow:""})}const Vt={name:"Slider",common:bt,self:Mt},Bt=Vt;function Me(r){return window.TouchEvent&&r instanceof window.TouchEvent}function Ve(){const r=new Map,d=y=>v=>{r.set(y,v)};return lt(()=>{r.clear()}),[r,d]}const Dt=j([l("slider","\n display: block;\n padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;\n position: relative;\n z-index: 0;\n width: 100%;\n cursor: pointer;\n user-select: none;\n -webkit-user-select: none;\n ",[x("reverse",[l("slider-handles",[l("slider-handle-wrapper","\n transform: translate(50%, -50%);\n ")]),l("slider-dots",[l("slider-dot","\n transform: translateX(50%, -50%);\n ")]),x("vertical",[l("slider-handles",[l("slider-handle-wrapper","\n transform: translate(-50%, -50%);\n ")]),l("slider-marks",[l("slider-mark","\n transform: translateY(calc(-50% + var(--n-dot-height) / 2));\n ")]),l("slider-dots",[l("slider-dot","\n transform: translateX(-50%) translateY(0);\n ")])])]),x("vertical","\n padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);\n width: var(--n-rail-width-vertical);\n height: 100%;\n ",[l("slider-handles","\n top: calc(var(--n-handle-size) / 2);\n right: 0;\n bottom: calc(var(--n-handle-size) / 2);\n left: 0;\n ",[l("slider-handle-wrapper","\n top: unset;\n left: 50%;\n transform: translate(-50%, 50%);\n ")]),l("slider-rail","\n height: 100%;\n ",[Z("fill","\n top: unset;\n right: 0;\n bottom: unset;\n left: 0;\n ")]),x("with-mark","\n width: var(--n-rail-width-vertical);\n margin: 0 32px 0 8px;\n "),l("slider-marks","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 22px;\n font-size: var(--n-mark-font-size);\n ",[l("slider-mark","\n transform: translateY(50%);\n white-space: nowrap;\n ")]),l("slider-dots","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 50%;\n ",[l("slider-dot","\n transform: translateX(-50%) translateY(50%);\n ")])]),x("disabled","\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n ",[l("slider-handle","\n cursor: not-allowed;\n ")]),x("with-mark","\n width: 100%;\n margin: 8px 0 32px 0;\n "),j("&:hover",[l("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[Z("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),l("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),x("active",[l("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[Z("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),l("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),l("slider-marks","\n position: absolute;\n top: 18px;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[l("slider-mark","\n position: absolute;\n transform: translateX(-50%);\n white-space: nowrap;\n ")]),l("slider-rail","\n width: 100%;\n position: relative;\n height: var(--n-rail-height);\n background-color: var(--n-rail-color);\n transition: background-color .3s var(--n-bezier);\n border-radius: calc(var(--n-rail-height) / 2);\n ",[Z("fill","\n position: absolute;\n top: 0;\n bottom: 0;\n border-radius: calc(var(--n-rail-height) / 2);\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-fill-color);\n ")]),l("slider-handles","\n position: absolute;\n top: 0;\n right: calc(var(--n-handle-size) / 2);\n bottom: 0;\n left: calc(var(--n-handle-size) / 2);\n ",[l("slider-handle-wrapper","\n outline: none;\n position: absolute;\n top: 50%;\n transform: translate(-50%, -50%);\n cursor: pointer;\n display: flex;\n ",[l("slider-handle","\n height: var(--n-handle-size);\n width: var(--n-handle-size);\n border-radius: 50%;\n overflow: hidden;\n transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);\n background-color: var(--n-handle-color);\n box-shadow: var(--n-handle-box-shadow);\n ",[j("&:hover","\n box-shadow: var(--n-handle-box-shadow-hover);\n ")]),j("&:focus",[l("slider-handle","\n box-shadow: var(--n-handle-box-shadow-focus);\n ",[j("&:hover","\n box-shadow: var(--n-handle-box-shadow-active);\n ")])])])]),l("slider-dots","\n position: absolute;\n top: 50%;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[x("transition-disabled",[l("slider-dot","transition: none;")]),l("slider-dot","\n transition:\n border-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n position: absolute;\n transform: translate(-50%, -50%);\n height: var(--n-dot-height);\n width: var(--n-dot-width);\n border-radius: var(--n-dot-border-radius);\n overflow: hidden;\n box-sizing: border-box;\n border: var(--n-dot-border);\n background-color: var(--n-dot-color);\n ",[x("active","border: var(--n-dot-border-active);")])])]),l("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[Te()]),l("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[x("top","\n margin-bottom: 12px;\n "),x("right","\n margin-left: 12px;\n "),x("bottom","\n margin-top: 12px;\n "),x("left","\n margin-right: 12px;\n "),Te()]),gt(l("slider",[l("slider-dot","background-color: var(--n-dot-color-modal);")])),wt(l("slider",[l("slider-dot","background-color: var(--n-dot-color-popover);")]))]),Ft=0,$t=Object.assign(Object.assign({},De.props),{to:ce.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onDragstart:[Function],onDragend:[Function]}),Ht=Be({name:"Slider",props:$t,setup(r){const{mergedClsPrefixRef:d,namespaceRef:y,inlineThemeDisabled:v}=xt(r),o=De("Slider","-slider",Dt,Bt,r,d),a=C(null),[T,R]=Ve(),[P,U]=Ve(),H=C(new Set),_=yt(r),{mergedDisabledRef:M}=_,L=S(()=>{const{step:e}=r;if(Number(e)<=0||e==="mark")return 0;const t=e.toString();let n=0;return t.includes(".")&&(n=t.length-t.indexOf(".")-1),n}),O=C(r.defaultValue),s=it(r,"value"),h=kt(s,O),u=S(()=>{const{value:e}=h;return(r.range?e:[e]).map(me)}),w=S(()=>u.value.length>2),ne=S(()=>r.placement===void 0?r.vertical?"right":"top":r.placement),K=S(()=>{const{marks:e}=r;return e?Object.keys(e).map(Number.parseFloat):null}),k=C(-1),ue=C(-1),B=C(-1),D=C(!1),W=C(!1),re=S(()=>{const{vertical:e,reverse:t}=r;return e?t?"top":"bottom":t?"right":"left"}),Fe=S(()=>{if(w.value)return;const e=u.value,t=Y(r.range?Math.min(...e):r.min),n=Y(r.range?Math.max(...e):e[0]),{value:i}=re;return r.vertical?{[i]:"".concat(t,"%"),height:"".concat(n-t,"%")}:{[i]:"".concat(t,"%"),width:"".concat(n-t,"%")}}),$e=S(()=>{const e=[],{marks:t}=r;if(t){const n=u.value.slice();n.sort((m,p)=>m-p);const{value:i}=re,{value:c}=w,{range:f}=r,z=c?()=>!1:m=>f?m>=n[0]&&m<=n[n.length-1]:m<=n[0];for(const m of Object.keys(t)){const p=Number(m);e.push({active:z(p),label:t[m],style:{[i]:"".concat(Y(p),"%")}})}}return e});function He(e,t){const n=Y(e),{value:i}=re;return{[i]:"".concat(n,"%"),zIndex:t===k.value?1:0}}function he(e){return r.showTooltip||B.value===e||k.value===e&&D.value}function Ie(e){return D.value?!(k.value===e&&ue.value===e):!0}function Ae(e){var t;~e&&(k.value=e,(t=T.get(e))===null||t===void 0||t.focus())}function Ee(){P.forEach((e,t)=>{he(t)&&e.syncPosition()})}function fe(e){const{"onUpdate:value":t,onUpdateValue:n}=r,{nTriggerFormInput:i,nTriggerFormChange:c}=_;n&&ee(n,e),t&&ee(t,e),O.value=e,i(),c()}function ve(e){const{range:t}=r;if(t){if(Array.isArray(e)){const{value:n}=u;e.join()!==n.join()&&fe(e)}}else Array.isArray(e)||u.value[0]!==e&&fe(e)}function se(e,t){if(r.range){const n=u.value.slice();n.splice(t,1,e),ve(n)}else ve(e)}function le(e,t,n){const i=n!==void 0;n||(n=e-t>0?1:-1);const c=K.value||[],{step:f}=r;if(f==="mark"){const p=X(e,c.concat(t),i?n:void 0);return p?p.value:t}if(f<=0)return t;const{value:z}=L;let m;if(i){const p=Number((t/f).toFixed(z)),V=Math.floor(p),ie=p>V?V:V-1,de=p<V?V:V+1;m=X(t,[Number((ie*f).toFixed(z)),Number((de*f).toFixed(z)),...c],n)}else{const p=Pe(e);m=X(e,[...c,p])}return m?me(m.value):t}function me(e){return Math.min(r.max,Math.max(r.min,e))}function Y(e){const{max:t,min:n}=r;return(e-n)/(t-n)*100}function Ne(e){const{max:t,min:n}=r;return n+(t-n)*e}function Pe(e){const{step:t,min:n}=r;if(Number(t)<=0||t==="mark")return e;const i=Math.round((e-n)/t)*t+n;return Number(i.toFixed(L.value))}function X(e,t=K.value,n){if(!(t!=null&&t.length))return null;let i=null,c=-1;for(;++c<t.length;){const f=t[c]-e,z=Math.abs(f);(n===void 0||f*n>0)&&(i===null||z<i.distance)&&(i={index:c,distance:z,value:t[c]})}return i}function pe(e){const t=a.value;if(!t)return;const n=Me(e)?e.touches[0]:e,i=t.getBoundingClientRect();let c;return r.vertical?c=(i.bottom-n.clientY)/i.height:c=(n.clientX-i.left)/i.width,r.reverse&&(c=1-c),Ne(c)}function Ue(e){if(M.value||!r.keyboard)return;const{vertical:t,reverse:n}=r;switch(e.key){case"ArrowUp":e.preventDefault(),J(t&&n?-1:1);break;case"ArrowRight":e.preventDefault(),J(!t&&n?-1:1);break;case"ArrowDown":e.preventDefault(),J(t&&n?1:-1);break;case"ArrowLeft":e.preventDefault(),J(!t&&n?1:-1);break}}function J(e){const t=k.value;if(t===-1)return;const{step:n}=r,i=u.value[t],c=Number(n)<=0||n==="mark"?i:i+n*e;se(le(c,i,e>0?1:-1),t)}function Oe(e){var t,n;if(M.value||!Me(e)&&e.button!==Ft)return;const i=pe(e);if(i===void 0)return;const c=u.value.slice(),f=r.range?(n=(t=X(i,c))===null||t===void 0?void 0:t.index)!==null&&n!==void 0?n:-1:0;f!==-1&&(e.preventDefault(),Ae(f),je(),se(le(i,u.value[f]),f))}function je(){D.value||(D.value=!0,r.onDragstart&&ee(r.onDragstart),te("touchend",document,G),te("mouseup",document,G),te("touchmove",document,Q),te("mousemove",document,Q))}function q(){D.value&&(D.value=!1,r.onDragend&&ee(r.onDragend),oe("touchend",document,G),oe("mouseup",document,G),oe("touchmove",document,Q),oe("mousemove",document,Q))}function Q(e){const{value:t}=k;if(!D.value||t===-1){q();return}const n=pe(e);n!==void 0&&se(le(n,u.value[t]),t)}function G(){q()}function Le(e){k.value=e,M.value||(B.value=e)}function Ke(e){k.value===e&&(k.value=-1,q()),B.value===e&&(B.value=-1)}function We(e){B.value=e}function Ye(e){B.value===e&&(B.value=-1)}ae(k,(e,t)=>void N(()=>ue.value=t)),ae(h,()=>{if(r.marks){if(W.value)return;W.value=!0,N(()=>{W.value=!1})}N(Ee)}),dt(()=>{q()});const be=S(()=>{const{self:{markFontSize:e,railColor:t,railColorHover:n,fillColor:i,fillColorHover:c,handleColor:f,opacityDisabled:z,dotColor:m,dotColorModal:p,handleBoxShadow:V,handleBoxShadowHover:ie,handleBoxShadowActive:de,handleBoxShadowFocus:Xe,dotBorder:Je,dotBoxShadow:qe,railHeight:Qe,railWidthVertical:Ge,handleSize:Ze,dotHeight:et,dotWidth:tt,dotBorderRadius:ot,fontSize:at,dotBorderActive:nt,dotColorPopover:rt},common:{cubicBezierEaseInOut:st}}=o.value;return{"--n-bezier":st,"--n-dot-border":Je,"--n-dot-border-active":nt,"--n-dot-border-radius":ot,"--n-dot-box-shadow":qe,"--n-dot-color":m,"--n-dot-color-modal":p,"--n-dot-color-popover":rt,"--n-dot-height":et,"--n-dot-width":tt,"--n-fill-color":i,"--n-fill-color-hover":c,"--n-font-size":at,"--n-handle-box-shadow":V,"--n-handle-box-shadow-active":de,"--n-handle-box-shadow-focus":Xe,"--n-handle-box-shadow-hover":ie,"--n-handle-color":f,"--n-handle-size":Ze,"--n-opacity-disabled":z,"--n-rail-color":t,"--n-rail-color-hover":n,"--n-rail-height":Qe,"--n-rail-width-vertical":Ge,"--n-mark-font-size":e}}),I=v?_e("slider",void 0,be,r):void 0,ge=S(()=>{const{self:{fontSize:e,indicatorColor:t,indicatorBoxShadow:n,indicatorTextColor:i,indicatorBorderRadius:c}}=o.value;return{"--n-font-size":e,"--n-indicator-border-radius":c,"--n-indicator-box-shadow":n,"--n-indicator-color":t,"--n-indicator-text-color":i}}),A=v?_e("slider-indicator",void 0,ge,r):void 0;return{mergedClsPrefix:d,namespace:y,uncontrolledValue:O,mergedValue:h,mergedDisabled:M,mergedPlacement:ne,isMounted:Ct(),adjustedTo:ce(r),dotTransitionDisabled:W,markInfos:$e,isShowTooltip:he,shouldKeepTooltipTransition:Ie,handleRailRef:a,setHandleRefs:R,setFollowerRefs:U,fillStyle:Fe,getHandleStyle:He,activeIndex:k,arrifiedValues:u,followerEnabledIndexSet:H,handleRailMouseDown:Oe,handleHandleFocus:Le,handleHandleBlur:Ke,handleHandleMouseEnter:We,handleHandleMouseLeave:Ye,handleRailKeyDown:Ue,indicatorCssVars:v?void 0:ge,indicatorThemeClass:A==null?void 0:A.themeClass,indicatorOnRender:A==null?void 0:A.onRender,cssVars:v?void 0:be,themeClass:I==null?void 0:I.themeClass,onRender:I==null?void 0:I.onRender}},render(){var r;const{mergedClsPrefix:d,themeClass:y,formatTooltip:v}=this;return(r=this.onRender)===null||r===void 0||r.call(this),b("div",{class:["".concat(d,"-slider"),y,{["".concat(d,"-slider--disabled")]:this.mergedDisabled,["".concat(d,"-slider--active")]:this.activeIndex!==-1,["".concat(d,"-slider--with-mark")]:this.marks,["".concat(d,"-slider--vertical")]:this.vertical,["".concat(d,"-slider--reverse")]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},b("div",{class:"".concat(d,"-slider-rail")},b("div",{class:"".concat(d,"-slider-rail__fill"),style:this.fillStyle}),this.marks?b("div",{class:["".concat(d,"-slider-dots"),this.dotTransitionDisabled&&"".concat(d,"-slider-dots--transition-disabled")]},this.markInfos.map(o=>b("div",{key:o.label,class:["".concat(d,"-slider-dot"),{["".concat(d,"-slider-dot--active")]:o.active}],style:o.style}))):null,b("div",{ref:"handleRailRef",class:"".concat(d,"-slider-handles")},this.arrifiedValues.map((o,a)=>{const T=this.isShowTooltip(a);return b(Rt,null,{default:()=>[b(zt,null,{default:()=>b("div",{ref:this.setHandleRefs(a),class:"".concat(d,"-slider-handle-wrapper"),tabindex:this.mergedDisabled?-1:0,role:"slider","aria-valuenow":o,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-orientation":this.vertical?"vertical":"horizontal","aria-disabled":this.disabled,style:this.getHandleStyle(o,a),onFocus:()=>{this.handleHandleFocus(a)},onBlur:()=>{this.handleHandleBlur(a)},onMouseenter:()=>{this.handleHandleMouseEnter(a)},onMouseleave:()=>{this.handleHandleMouseLeave(a)}},St(this.$slots.thumb,()=>[b("div",{class:"".concat(d,"-slider-handle")})]))}),this.tooltip&&b(Tt,{ref:this.setFollowerRefs(a),show:T,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(a),teleportDisabled:this.adjustedTo===ce.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>b(ct,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(a),onEnter:()=>{this.followerEnabledIndexSet.add(a)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(a)}},{default:()=>{var R;return T?((R=this.indicatorOnRender)===null||R===void 0||R.call(this),b("div",{class:["".concat(d,"-slider-handle-indicator"),this.indicatorThemeClass,"".concat(d,"-slider-handle-indicator--").concat(this.mergedPlacement)],style:this.indicatorCssVars},typeof v=="function"?v(o):o)):null}})})]})})),this.marks?b("div",{class:"".concat(d,"-slider-marks")},this.markInfos.map(o=>b("div",{key:o.label,class:"".concat(d,"-slider-mark"),style:o.style},o.label))):null))}}),It="/b2c-python-h5/assets/bgm-2334dc9e.mp3",At={key:0,class:"close-hand"},Et={class:"title"},Nt={key:0,class:"message"},Pt={class:"panel"},Ut={key:0,class:"step-0"},Ot=g("h4",null,"网站已发布成功！",-1),jt={class:"input"},Lt={key:0,class:"input"},Kt=g("canvas",null,null,-1),Wt=[Kt],Yt={key:1,class:"speed"},Xt=g("span",{class:"bar"},null,-1),Gt=Be({__name:"CodeRainPage",setup(r){const d=C(),y=C();C();const v=["red","green","blue","yellow","black","white","gray","silver","navy","olive","purple","fuchsia","maroon","lime","teal","aqua","orange","pink","skyblue","coral","lightblue","lightgreen","lightgray","brown","grey"],o=we({step:-1,timer:null,url:"",speed:0,canvas:{w:0,h:0,cols:[],ctx:null},message:!1,start:!1,title:"Program Window",showUrl:!1,closeTip:!1}),a=we({letter:["A","BC","永胜"],color:"#00FF00",size:20,speed:[1,2],websize:"Name",start:!0,rate:.99,disappear:.1}),{store:T,type:R,url:P}=pt(s=>{R==Se.SHARE&&(a.letter=s.letter,a.color=s.color,a.size=s.size,a.speed=s.speed,a.websize=s.websize,a.start=s.start,a.rate=s.rate,a.disappear=s.disappear,document.title=s.websize,a.speed[0]==a.speed[1]?o.speed=a.speed[0]:o.speed=a.speed[1]+(a.speed[0]-a.speed[1])/2,o.url=location.href+(location.href.indexOf("?")>=0?"&":"?")+"type=share&content="+P,o.step=1,N(()=>{_()}))});ae(()=>T.event,s=>{if(R!=Se.SHARE){if(s.cmd=="onClickClose"){ze.Msg.post({cmd:"result"});return}a.letter=s.content.letter,a.color=s.content.color,a.size=s.content.size,a.speed=s.content.speed||[30,30],a.websize=s.content.websize,a.start=s.content.start,a.speed=[100-a.speed[0]/2,100-a.speed[1]/2],a.rate=s.content.rate||.99,a.disappear=s.content.disappear||.1,s.content.closeTip&&setTimeout(()=>{o.closeTip=!0},s.content.closeTipShowTime*1e3||3e3),v.includes(a.color)||(a.color="white"),a.speed[0]==a.speed[1]?o.speed=a.speed[0]:o.speed=a.speed[1]+(a.speed[0]-a.speed[1])/2,L(h=>{const u=h.replace("https://ppt-hetao.oss-accelerate.aliyuncs.com/b2c-h5/","");o.url=location.href+(location.href.indexOf("?")>=0?"&":"?")+"type=share&content="+u,o.step=0,a.start&&(o.step=1,N(()=>{_()})),T.pageLoaded()})}});const U=()=>{o.step=1,o.showUrl=!0,N(()=>{_()})},H=()=>{clearInterval(o.timer),_()},_=()=>{const s=y.value.querySelector("canvas");o.start=!0,o.title=a.websize,o.canvas.ctx=s.getContext("2d"),o.canvas.w=y.value.scrollWidth,o.canvas.h=y.value.scrollHeight,s.width=o.canvas.w,s.height=o.canvas.h,o.canvas.cols=Array.from({length:Math.floor(o.canvas.w/a.size)},h=>({i:0,letter:[]}));for(let h=0;h<50;h++)M();o.timer=setInterval(M,o.speed),d.value.src=It,d.value.play()};function M(){o.canvas.ctx.fillStyle="rgba(0,0,0,".concat(a.disappear,")"),o.canvas.ctx.fillRect(0,0,o.canvas.w,o.canvas.h),o.canvas.ctx.font="600 "+(Math.random()*(a.size-10)+10)+"px Arial",o.canvas.ctx.fillStyle=a.color;for(let s=0;s<o.canvas.cols.length;s++){let h=s*a.size,u=o.canvas.cols[s].i*a.size;o.canvas.cols[s].letter.length==0&&(o.canvas.cols[s].letter=[a.letter[Math.floor(Math.random()*a.letter.length)]]);const w=o.canvas.cols[s].letter.shift();o.canvas.ctx.fillText(w,h,u),u>o.canvas.h&&Math.random()>a.rate&&(o.canvas.cols[s].i=0),o.canvas.cols[s].i++}}const L=s=>{const h=JSON.stringify(a),u="code-rain.json",w=new Blob([h],{type:"text/plain"}),ne=new File([w],u,{type:w.type});ze.File.upload(ne,u).then(K=>{s&&s(K)})},O=()=>{const s=document.createElement("input");s.value=o.url,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),o.message=!0,setTimeout(()=>{o.message=!1},2e3)};return ae(()=>o.speed,s=>{o.start&&(clearInterval(o.timer),o.timer=setInterval(M,s))}),(s,h)=>{const u=ht("page");return $(),F(ut,null,[o.closeTip?($(),F("div",At)):E("",!0),xe(u,{class:"code-rain-page"},{default:ye(()=>[g("div",Et,ft(o.title),1),g("audio",{ref_key:"audioRef",ref:d,loop:""},null,512),o.message?($(),F("div",Nt,"复制成功")):E("",!0),g("div",Pt,[o.step==0?($(),F("div",Ut,[Ot,g("div",jt,[ke(g("input",{"onUpdate:modelValue":h[0]||(h[0]=w=>o.url=w)},null,512),[[Ce,o.url]])]),g("div",{class:"btns"},[g("button",{onClick:O},"复制网址"),g("button",{onClick:U},"访问网址")])])):E("",!0),o.step==1?($(),F("div",{key:1,class:vt(["step-1",{"show-url":o.showUrl}])},[o.showUrl?($(),F("div",Lt,[ke(g("input",{"onUpdate:modelValue":h[1]||(h[1]=w=>o.url=w)},null,512),[[Ce,o.url]]),g("button",{onClick:H})])):E("",!0),g("div",{class:"canvas",ref_key:"canvasRef",ref:y},Wt,512),a.speed[0]!=a.speed[1]?($(),F("div",Yt,[Re("慢"),xe(mt(Ht),{tooltip:!1,value:o.speed,"onUpdate:value":h[2]||(h[2]=w=>o.speed=w),min:a.speed[1],max:a.speed[0],reverse:""},{thumb:ye(()=>[Xt]),_:1},8,["value","min","max"]),Re("快")])):E("",!0)],2)):E("",!0)])]),_:1})],64)}}});export{Gt as default};
